<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="prev" title="Usage with EdgeDB" href="examples/edgedb.html" />

    <!-- Generated with Sphinx 8.2.3 and Furo 2024.08.06 -->
        <title>Changelog</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=302659d7" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css?v=6b2c8899" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --color-brand-primary: black;
  --color-brand-content: #024bb0;
  --color-foreground-muted: #808080;
  --color-highlight-on-target: inherit;
  --color-highlighted-background: #ffffcc;
  --color-sidebar-link-text: black;
  --color-sidebar-link-text--top-level: black;
  --color-link: #024bb0;
  --color-link--hover: #024bb0;
  --color-link-underline: transparent;
  --color-link-underline--hover: #024bb0;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-brand-primary: #ffffff;
  --color-brand-content: #5192d2;
  --color-highlight-on-target: inherit;
  --color-highlighted-background: #333300;
  --color-sidebar-link-text: #ffffffcc;
  --color-sidebar-link-text--top-level: #ffffffcc;
  --color-link: #5192d2;
  --color-link--hover: #5192d2;
  --color-link-underline: transparent;
  --color-link-underline--hover: #5192d2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-brand-primary: #ffffff;
  --color-brand-content: #5192d2;
  --color-highlight-on-target: inherit;
  --color-highlighted-background: #333300;
  --color-sidebar-link-text: #ffffffcc;
  --color-sidebar-link-text--top-level: #ffffffcc;
  --color-link: #5192d2;
  --color-link--hover: #5192d2;
  --color-link-underline: transparent;
  --color-link-underline--hover: #5192d2;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">msgspec</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="_static/msgspec-logo-light.svg" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="_static/msgspec-logo-dark.svg" alt="Dark Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="why.html">Why msgspec?</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="benchmarks.html">Benchmarks</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="supported-types.html">Supported Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="structs.html">Structs</a></li>
<li class="toctree-l1"><a class="reference internal" href="constraints.html">Constraints</a></li>
<li class="toctree-l1"><a class="reference internal" href="converters.html">Converters</a></li>
<li class="toctree-l1"><a class="reference internal" href="jsonschema.html">JSON Schema</a></li>
<li class="toctree-l1"><a class="reference internal" href="schema-evolution.html">Schema Evolution</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Advanced</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="extending.html">Extending</a></li>
<li class="toctree-l1"><a class="reference internal" href="inspect.html">Inspecting Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="perf-tips.html">Performance Tips</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="api.html">API Docs</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="examples/index.html">Examples</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="examples/geojson.html">GeoJSON</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/asyncio-kv.html">Asyncio TCP Key-Value Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/conda-repodata.html">Conda Repodata</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/pyproject-toml.html">Parsing <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/edgedb.html">Usage with EdgeDB</a></li>
</ul>
</li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Changelog</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="_sources/changelog.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="changelog">
<h1>Changelog<a class="headerlink" href="#changelog" title="Link to this heading">¶</a></h1>
<section id="version-0-19-0-2024-12-27">
<h2>Version 0.19.0 (2024-12-27)<a class="headerlink" href="#version-0-19-0-2024-12-27" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Improve JSON encoding performance by up to 40% (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/647">PR #647</a>).</p></li>
<li><p>Ensure <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a> and <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#frozenset" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">frozenset</span></code></a> default values are treated identically whether
specified by value or <code class="docutils literal notranslate"><span class="pre">default_factory</span></code> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/653">PR #653</a>).</p></li>
<li><p>Fix memory leak of <code class="docutils literal notranslate"><span class="pre">match_args</span></code> in <code class="docutils literal notranslate"><span class="pre">StructConfig</span></code> object (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/684">PR #684</a>).</p></li>
<li><p>Fix memory leak in <code class="docutils literal notranslate"><span class="pre">Raw.copy()</span></code> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/709">PR #709</a>).</p></li>
<li><p>Update <code class="docutils literal notranslate"><span class="pre">decode</span></code> signatures for PEP 688 (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/740">PR #740</a>).</p></li>
<li><p>Generate <code class="docutils literal notranslate"><span class="pre">__replace__</span></code> method on <code class="docutils literal notranslate"><span class="pre">Struct</span></code> types, for use with
<a class="reference external" href="https://docs.python.org/3/library/copy.html#copy.replace" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">copy.replace</span></code></a> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/747">PR #747</a>).</p></li>
<li><p>Fix incorrect decoding of certain &gt; 64 bit integers (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/751">PR #751</a>).</p></li>
<li><p>Call <code class="docutils literal notranslate"><span class="pre">__post_init__</span></code> when converting from an object to a Struct
(<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/752">PR #752</a>).</p></li>
<li><p><strong>BREAKING</strong>: Expand buffer when <code class="docutils literal notranslate"><span class="pre">encode_into</span></code> is passed a buffer smaller
than <code class="docutils literal notranslate"><span class="pre">offset</span></code> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/753">PR #753</a>).</p></li>
<li><p>Support <a class="reference internal" href="api.html#msgspec.Raw" title="msgspec.Raw"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Raw</span></code></a> objects as inputs to <a class="reference internal" href="api.html#msgspec.convert" title="msgspec.convert"><code class="xref py py-obj docutils literal notranslate"><span class="pre">convert</span></code></a> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/754">PR #754</a>).</p></li>
<li><p>Error nicely when a dataclass <em>type</em> (instead of an <em>instance</em>) is passed to
<code class="docutils literal notranslate"><span class="pre">encode</span></code> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/755">PR #755</a>).</p></li>
<li><p>Drop support for Python 3.8 (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/756">PR #756</a>, <a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/763">PR #763</a>).</p></li>
<li><p>Add support for Python 3.13 (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/711">PR #711</a>).</p></li>
<li><p>Remove deprecated <code class="docutils literal notranslate"><span class="pre">from_builtins</span></code> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/761">PR #761</a>).</p></li>
<li><p>Support encoding any <code class="docutils literal notranslate"><span class="pre">Enum</span></code> type whose <code class="docutils literal notranslate"><span class="pre">.value</span></code> is a supported type
(<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/757">PR #757</a>).</p></li>
<li><p>Don’t fail eagerly when processing generic types with unsupported
<code class="docutils literal notranslate"><span class="pre">__parameters__</span></code> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/772">PR #772</a>).</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">eval_type_backport</span></code> to backport type annotations to Python 3.9
(<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/773">PR #773</a>).</p></li>
</ul>
</section>
<section id="version-0-18-6-2024-01-21">
<h2>Version 0.18.6 (2024-01-21)<a class="headerlink" href="#version-0-18-6-2024-01-21" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Support coercing integral floats to ints when <code class="docutils literal notranslate"><span class="pre">strict=False</span></code> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/619">PR #619</a>).</p></li>
<li><p>Preserve leading <code class="docutils literal notranslate"><span class="pre">_</span></code> when renaming fields to camel or pascal case (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/620">PR #620</a>).</p></li>
<li><p>Support zero-copy decoding binary fields to a <code class="docutils literal notranslate"><span class="pre">memoryview</span></code> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/624">PR #624</a>).</p></li>
<li><p>Fix a bug when inheriting from the same <code class="docutils literal notranslate"><span class="pre">Generic</span></code> base class multiple times
(<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/626">PR #626</a>).</p></li>
<li><p>Add an <code class="docutils literal notranslate"><span class="pre">order</span></code> option to all encoders for enforcing deterministic/sorted
ordering when encoding. This can help provide a more consistent or human
readable output (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/627">PR #627</a>).</p></li>
<li><p>Support inheriting from any slots-class when defining a new <code class="docutils literal notranslate"><span class="pre">Struct</span></code> type
with <code class="docutils literal notranslate"><span class="pre">gc=False</span></code> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/635">PR #635</a>).</p></li>
<li><p>Automatically infer the input field naming convention when converting
non-dict mappings or arbitrary objects to <code class="docutils literal notranslate"><span class="pre">Struct</span></code> types in
<code class="docutils literal notranslate"><span class="pre">msgspec.convert</span></code> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/636">PR #636</a>).</p></li>
</ul>
</section>
<section id="version-0-18-5-2023-12-12">
<h2>Version 0.18.5 (2023-12-12)<a class="headerlink" href="#version-0-18-5-2023-12-12" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Support unhashable <code class="docutils literal notranslate"><span class="pre">Annotated</span></code> metadata in <a class="reference internal" href="api.html#msgspec.inspect.type_info" title="msgspec.inspect.type_info"><code class="xref py py-obj docutils literal notranslate"><span class="pre">msgspec.inspect.type_info</span></code></a>
(<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/566">PR #566</a>).</p></li>
<li><p>Fix bug preventing decoding dataclasses/attrs types with default values and
<code class="docutils literal notranslate"><span class="pre">slots=True,</span> <span class="pre">frozen=True</span></code> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/569">PR #569</a>).</p></li>
<li><p>Support passing parametrized generic struct types to <a class="reference internal" href="api.html#msgspec.structs.fields" title="msgspec.structs.fields"><code class="xref py py-obj docutils literal notranslate"><span class="pre">msgspec.structs.fields</span></code></a>
(<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/571">PR #571</a>).</p></li>
<li><p>Validate <code class="docutils literal notranslate"><span class="pre">str</span></code> constraints on dict keys when decoding msgpack (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/577">PR #577</a>).</p></li>
<li><p>Support <code class="docutils literal notranslate"><span class="pre">UUID</span></code> subclasses as inputs to <a class="reference internal" href="api.html#msgspec.convert" title="msgspec.convert"><code class="xref py py-obj docutils literal notranslate"><span class="pre">msgspec.convert</span></code></a> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/592">PR #592</a>).</p></li>
<li><p>Call <code class="docutils literal notranslate"><span class="pre">__eq__</span></code> from generated <code class="docutils literal notranslate"><span class="pre">__ne__</span></code> if user defines manual <code class="docutils literal notranslate"><span class="pre">__eq__</span></code>
method on a <code class="docutils literal notranslate"><span class="pre">Struct</span></code> type (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/593">PR #593</a>).</p></li>
<li><p>Include the <code class="docutils literal notranslate"><span class="pre">Struct</span></code> type in the generated hash (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/595">PR #595</a>).</p></li>
<li><p>Add a <code class="docutils literal notranslate"><span class="pre">cache_hash</span></code> struct option (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/596">PR #596</a>).</p></li>
<li><p>Fix a bug around caching of dataclass type info when dealing with subclasses
of dataclasses (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/599">PR #599</a>).</p></li>
<li><p>Add <a class="reference internal" href="api.html#msgspec.structs.force_setattr" title="msgspec.structs.force_setattr"><code class="xref py py-obj docutils literal notranslate"><span class="pre">msgspec.structs.force_setattr</span></code></a> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/600">PR #600</a>).</p></li>
<li><p>Support custom dict key types in JSON encoder and decoder (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/602">PR #602</a>).</p></li>
<li><p>Include <code class="docutils literal notranslate"><span class="pre">dict</span></code> key constraints in generated JSON schema via the
<code class="docutils literal notranslate"><span class="pre">propertyNames</span></code> field (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/604">PR #604</a>).</p></li>
<li><p>Add a <code class="docutils literal notranslate"><span class="pre">schema_hook</span></code> for generating JSON schemas for custom types (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/605">PR #605</a>).</p></li>
<li><p>Add support for Python 3.12’s <code class="docutils literal notranslate"><span class="pre">type</span></code> aliases (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/606">PR #606</a>).</p></li>
</ul>
</section>
<section id="version-0-18-4-2023-10-04">
<h2>Version 0.18.4 (2023-10-04)<a class="headerlink" href="#version-0-18-4-2023-10-04" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Resolve an issue leading to periodic segfaults when importing <code class="docutils literal notranslate"><span class="pre">msgspec</span></code> on
CPython 3.12 (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/561">PR #561</a>)</p></li>
</ul>
</section>
<section id="version-0-18-3-2023-10-03">
<h2>Version 0.18.3 (2023-10-03)<a class="headerlink" href="#version-0-18-3-2023-10-03" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Improve type annotation for <code class="docutils literal notranslate"><span class="pre">Struct.__rich_repr__</span></code> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/557">PR #557</a>)</p></li>
<li><p>Add pre-built wheels for Python 3.12 (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/558">PR #558</a>)</p></li>
</ul>
</section>
<section id="version-0-18-2-2023-08-26">
<h2>Version 0.18.2 (2023-08-26)<a class="headerlink" href="#version-0-18-2-2023-08-26" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Support <code class="docutils literal notranslate"><span class="pre">Enum._missing_</span></code> hooks for handling unknown enum values (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/532">PR #532</a>).</p></li>
<li><p>Fix JSON encoding of <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a> objects with <a class="reference external" href="https://docs.python.org/3/library/zoneinfo.html#zoneinfo.ZoneInfo" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">zoneinfo.ZoneInfo</span></code></a>
timezone components (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/534">PR #534</a>).</p></li>
<li><p>Add support for <code class="docutils literal notranslate"><span class="pre">attrs</span></code> <a class="reference external" href="https://www.attrs.org/en/stable/examples.html#validators">validators</a> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/538">PR #538</a>).</p></li>
<li><p>Relax datetime/time parsing format to allow some RFC3339 extensions from
ISO8601 (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/539">PR #539</a>).</p></li>
</ul>
</section>
<section id="version-0-18-1-2023-08-16">
<h2>Version 0.18.1 (2023-08-16)<a class="headerlink" href="#version-0-18-1-2023-08-16" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Support custom <code class="docutils literal notranslate"><span class="pre">builtin_types</span></code> in <a class="reference internal" href="api.html#msgspec.to_builtins" title="msgspec.to_builtins"><code class="xref py py-obj docutils literal notranslate"><span class="pre">msgspec.to_builtins</span></code></a> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/517">PR #517</a>).</p></li>
<li><p>Try <code class="docutils literal notranslate"><span class="pre">getattr</span></code> before <code class="docutils literal notranslate"><span class="pre">getitem</span></code> when converting with
<code class="docutils literal notranslate"><span class="pre">from_attributes=True</span></code> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/519">PR #519</a>).</p></li>
<li><p>More efficient module state access in top-level functions (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/521">PR #521</a>).</p></li>
</ul>
</section>
<section id="version-0-18-0-2023-08-10">
<h2>Version 0.18.0 (2023-08-10)<a class="headerlink" href="#version-0-18-0-2023-08-10" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Add a new <a class="reference internal" href="api.html#msgspec.json.Decoder.decode_lines" title="msgspec.json.Decoder.decode_lines"><code class="xref py py-obj docutils literal notranslate"><span class="pre">msgspec.json.Decoder.decode_lines</span></code></a> method for decoding
newline-delimited JSON into a list of values (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/485">PR #485</a>).</p></li>
<li><p>Support for decoding UUIDs from binary values (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/499">PR #499</a>).</p></li>
<li><p>Support for encoding UUIDs in alternate formats (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/499">PR #499</a>).</p></li>
<li><p>Overhaul how dataclasses are encoded to support more dataclass-like objects
(<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/501">PR #501</a>).</p></li>
<li><p>Encode all declared fields on a dataclass (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/501">PR #501</a>).</p></li>
<li><p>Support encoding <code class="docutils literal notranslate"><span class="pre">edgedb.Object</span></code> instances as dataclass-like objects
(<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/501">PR #501</a>).</p></li>
<li><p>Improve performance when json decoding <code class="docutils literal notranslate"><span class="pre">float</span></code> values (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/510">PR #510</a>).</p></li>
<li><p>Support for JSON encoding dicts with <code class="docutils literal notranslate"><span class="pre">float</span></code> keys (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/510">PR #510</a>).</p></li>
<li><p>Support for JSON decoding dicts with <code class="docutils literal notranslate"><span class="pre">float</span></code> keys (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/510">PR #510</a>).</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">float_hook</span></code> to <a class="reference internal" href="api.html#msgspec.json.Decoder" title="msgspec.json.Decoder"><code class="xref py py-obj docutils literal notranslate"><span class="pre">msgspec.json.Decoder</span></code></a> to support changing the default
for how JSON floats are decoded (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/511">PR #511</a>).</p></li>
</ul>
</section>
<section id="version-0-17-0-2023-07-11">
<h2>Version 0.17.0 (2023-07-11)<a class="headerlink" href="#version-0-17-0-2023-07-11" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Ensure <code class="docutils literal notranslate"><span class="pre">None</span></code> may be explicitly passed to <a class="reference internal" href="api.html#msgspec.defstruct" title="msgspec.defstruct"><code class="xref py py-obj docutils literal notranslate"><span class="pre">defstruct</span></code></a> for
<code class="docutils literal notranslate"><span class="pre">module</span></code>/<code class="docutils literal notranslate"><span class="pre">namespace</span></code>/<code class="docutils literal notranslate"><span class="pre">bases</span></code> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/445">PR #445</a>).</p></li>
<li><p>Support decoding <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a> values from <code class="docutils literal notranslate"><span class="pre">int</span></code>/<code class="docutils literal notranslate"><span class="pre">float</span></code> values
(interpreted as seconds since the Unix epoch) when <code class="docutils literal notranslate"><span class="pre">strict=False</span></code>
(<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/452">PR #452</a>).</p></li>
<li><p>Support subclasses of collection types (<code class="docutils literal notranslate"><span class="pre">list</span></code>, <code class="docutils literal notranslate"><span class="pre">dict</span></code>, …) as inputs to
<a class="reference internal" href="api.html#msgspec.convert" title="msgspec.convert"><code class="xref py py-obj docutils literal notranslate"><span class="pre">convert</span></code></a> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/453">PR #453</a>).</p></li>
<li><p>Support <code class="docutils literal notranslate"><span class="pre">str</span></code> subclasses as keys in <a class="reference internal" href="api.html#msgspec.to_builtins" title="msgspec.to_builtins"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_builtins</span></code></a> and all protocol
<code class="docutils literal notranslate"><span class="pre">encode</span></code> methods (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/454">PR #454</a>).</p></li>
<li><p>Improved performance when JSON encoding <a class="reference external" href="https://docs.python.org/3/library/decimal.html#decimal.Decimal" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">decimal.Decimal</span></code></a> values (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/455">PR #455</a>).</p></li>
<li><p>Improved performance when JSON encoding <code class="docutils literal notranslate"><span class="pre">int</span></code>/<code class="docutils literal notranslate"><span class="pre">float</span></code> values (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/458">PR #458</a>).</p></li>
<li><p>Improved performance when JSON encoding <code class="docutils literal notranslate"><span class="pre">str</span></code> values (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/459">PR #459</a>).</p></li>
<li><p>Wrap errors in <code class="docutils literal notranslate"><span class="pre">dec_hook</span></code> with a <a class="reference internal" href="api.html#msgspec.ValidationError" title="msgspec.ValidationError"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ValidationError</span></code></a> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/460">PR #460</a>).</p></li>
<li><p>Support decoding <a class="reference external" href="https://docs.python.org/3/library/decimal.html#decimal.Decimal" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">decimal.Decimal</span></code></a> values from numeric values (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/463">PR #463</a>)</p></li>
<li><p>Support encoding <a class="reference external" href="https://docs.python.org/3/library/decimal.html#decimal.Decimal" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">decimal.Decimal</span></code></a> values as numeric values (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/465">PR #465</a>).</p></li>
<li><p>Support converting <a class="reference external" href="https://docs.python.org/3/library/decimal.html#decimal.Decimal" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">decimal.Decimal</span></code></a> values to <code class="docutils literal notranslate"><span class="pre">float</span></code> in <a class="reference internal" href="api.html#msgspec.convert" title="msgspec.convert"><code class="xref py py-obj docutils literal notranslate"><span class="pre">convert</span></code></a>
(<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/466">PR #466</a>).</p></li>
<li><p>Preliminary support for CPython 3.12 beta releases (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/467">PR #467</a>).</p></li>
<li><p>Support decoding integers that don’t fit into an <code class="docutils literal notranslate"><span class="pre">int64</span></code>/<code class="docutils literal notranslate"><span class="pre">uint64</span></code>
(<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/469">PR #469</a>).</p></li>
<li><p>Add a new optional <code class="docutils literal notranslate"><span class="pre">__post_init__</span></code> method for <a class="reference internal" href="api.html#msgspec.Struct" title="msgspec.Struct"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Struct</span></code></a> types (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/470">PR #470</a>).</p></li>
<li><p>Support decoding <code class="docutils literal notranslate"><span class="pre">0</span></code>/<code class="docutils literal notranslate"><span class="pre">1</span></code> into <code class="docutils literal notranslate"><span class="pre">bool</span></code> types when <code class="docutils literal notranslate"><span class="pre">strict=False</span></code>
(<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/471">PR #471</a>).</p></li>
<li><p>Wrap errors raised in <code class="docutils literal notranslate"><span class="pre">__post_init__</span></code>/<code class="docutils literal notranslate"><span class="pre">__attrs_post_init__</span></code> in a
<a class="reference internal" href="api.html#msgspec.ValidationError" title="msgspec.ValidationError"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ValidationError</span></code></a> when decoding (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/472">PR #472</a>).</p></li>
<li><p>Add native support for encoding/decoding <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime.timedelta</span></code></a> types
(<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/475">PR #475</a>).</p></li>
<li><p>Add a new <a class="reference internal" href="api.html#msgspec.json.Encoder.encode_lines" title="msgspec.json.Encoder.encode_lines"><code class="xref py py-obj docutils literal notranslate"><span class="pre">msgspec.json.Encoder.encode_lines</span></code></a> method for encoding an iterable
of values as newline-delimited JSON (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/479">PR #479</a>).</p></li>
</ul>
</section>
<section id="version-0-16-0-2023-06-12">
<h2>Version 0.16.0 (2023-06-12)<a class="headerlink" href="#version-0-16-0-2023-06-12" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Deprecate <code class="docutils literal notranslate"><span class="pre">msgspec.from_builtins</span></code> in favor of <a class="reference internal" href="api.html#msgspec.convert" title="msgspec.convert"><code class="xref py py-obj docutils literal notranslate"><span class="pre">msgspec.convert</span></code></a>. The new
<code class="docutils literal notranslate"><span class="pre">convert</span></code> function provides a superset of the functionality available in
the old <code class="docutils literal notranslate"><span class="pre">from_builtins</span></code> function (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/431">PR #431</a>).</p></li>
<li><p>Add a <code class="docutils literal notranslate"><span class="pre">from_attributes</span></code> argument to <a class="reference internal" href="api.html#msgspec.convert" title="msgspec.convert"><code class="xref py py-obj docutils literal notranslate"><span class="pre">msgspec.convert</span></code></a> for allowing
conversion between object types with matching attribute names. One use case
for this is converting ORM objects to <a class="reference internal" href="api.html#msgspec.Struct" title="msgspec.Struct"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Struct</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/dataclasses.html#module-dataclasses" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dataclasses</span></code></a> types
(<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/419">PR #419</a>).</p></li>
<li><p>Support passing generic <code class="docutils literal notranslate"><span class="pre">Mapping</span></code> objects as inputs to <a class="reference internal" href="api.html#msgspec.convert" title="msgspec.convert"><code class="xref py py-obj docutils literal notranslate"><span class="pre">msgspec.convert</span></code></a>.
These may be coerced to <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>/<a class="reference internal" href="api.html#msgspec.Struct" title="msgspec.Struct"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Struct</span></code></a>/<a class="reference external" href="https://docs.python.org/3/library/dataclasses.html#module-dataclasses" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dataclasses</span></code></a>/<a class="reference external" href="https://www.attrs.org/en/stable/api.html#module-attrs" title="(in attrs v25.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">attrs</span></code></a> types
(<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/427">PR #427</a>).</p></li>
<li><p>Add a new <code class="docutils literal notranslate"><span class="pre">strict</span></code> keyword argument to all <code class="docutils literal notranslate"><span class="pre">decode</span></code> functions,
<code class="docutils literal notranslate"><span class="pre">Decoder</span></code> classes, as well as <a class="reference internal" href="api.html#msgspec.convert" title="msgspec.convert"><code class="xref py py-obj docutils literal notranslate"><span class="pre">msgspec.convert</span></code></a>. This defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>,
setting it to false enables a wider set of coercion rules (e.g. coercing a
<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> input to an <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>). See <a class="reference internal" href="usage.html#strict-vs-lax"><span class="std std-ref">“Strict” vs “Lax” Mode</span></a> for more information
(<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/434">PR #434</a>).</p></li>
<li><p>Support all <a class="reference internal" href="supported-types.html"><span class="doc">Supported Types</span></a> as inputs to <a class="reference internal" href="api.html#msgspec.convert" title="msgspec.convert"><code class="xref py py-obj docutils literal notranslate"><span class="pre">msgspec.convert</span></code></a> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/431">PR #431</a>,
<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/418">PR #418</a>).</p></li>
<li><p>Passthrough input unchanged when coercing to <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">typing.Any</span></code></a> type in
<a class="reference internal" href="api.html#msgspec.convert" title="msgspec.convert"><code class="xref py py-obj docutils literal notranslate"><span class="pre">msgspec.convert</span></code></a> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/435">PR #435</a>).</p></li>
<li><p>Support parametrizing <code class="docutils literal notranslate"><span class="pre">Decoder</span></code> types at runtime (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/415">PR #415</a>).</p></li>
<li><p>Support encoding subclasses of <code class="docutils literal notranslate"><span class="pre">UUID</span></code> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/429">PR #429</a>).</p></li>
</ul>
</section>
<section id="version-0-15-1-2023-05-19">
<h2>Version 0.15.1 (2023-05-19)<a class="headerlink" href="#version-0-15-1-2023-05-19" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Fix a reference counting bug introduced in 0.15.0 when decoding naive (no
timezone) <code class="docutils literal notranslate"><span class="pre">datetime</span></code>/<code class="docutils literal notranslate"><span class="pre">time</span></code> objects in both the <code class="docutils literal notranslate"><span class="pre">msgpack</span></code> and <code class="docutils literal notranslate"><span class="pre">json</span></code>
decoders (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/409">PR #409</a>).</p></li>
<li><p>Work around an upstream bug in CPython to properly support
<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Required" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">typing.Required</span></code></a>/<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.NotRequired" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">typing.NotRequired</span></code></a> in <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.TypedDict" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">typing.TypedDict</span></code></a> when
<code class="docutils literal notranslate"><span class="pre">__future__.annotations</span></code> is enabled (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/410">PR #410</a>).</p></li>
</ul>
</section>
<section id="version-0-15-0-2023-05-10">
<h2>Version 0.15.0 (2023-05-10)<a class="headerlink" href="#version-0-15-0-2023-05-10" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Add support for Generic <a class="reference internal" href="api.html#msgspec.Struct" title="msgspec.Struct"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Struct</span></code></a> types (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/386">PR #386</a>, <a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/393">PR #393</a>).</p></li>
<li><p>Add support for Generic <a class="reference external" href="https://docs.python.org/3/library/dataclasses.html#module-dataclasses" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dataclasses</span></code></a> and <a class="reference external" href="https://attrs.org">attrs</a> types
(<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/396">PR #396</a>).</p></li>
<li><p>Add support for Generic <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.TypedDict" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">typing.TypedDict</span></code></a> and <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.NamedTuple" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">typing.NamedTuple</span></code></a> types
(<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/398">PR #398</a>).</p></li>
<li><p><strong>BREAKING</strong>: No longer normalize timezones to UTC when decoding <a class="reference external" href="https://docs.python.org/3/library/datetime.html#module-datetime" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime</span></code></a>
objects from JSON (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/391">PR #391</a>).</p></li>
<li><p>Support decoding unhyphenated UUIDs (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/392">PR #392</a>).</p></li>
<li><p>A few type annotation fixups (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/383">PR #383</a>, <a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/387">PR #387</a>).</p></li>
<li><p>Dedent docstrings for descriptions when generating JSON schemas (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/397">PR #397</a>).</p></li>
<li><p>Use a variant of <code class="docutils literal notranslate"><span class="pre">__qualname__</span></code> when auto-generating Struct tags rather
than <code class="docutils literal notranslate"><span class="pre">__name__</span></code> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/399">PR #399</a>).</p></li>
<li><p>Fix bug when handling <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">typing.Literal</span></code></a> types containing a literal <code class="docutils literal notranslate"><span class="pre">None</span></code>
(<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/400">PR #400</a>).</p></li>
<li><p>Make all <code class="docutils literal notranslate"><span class="pre">Encoder</span></code>/<code class="docutils literal notranslate"><span class="pre">Decoder</span></code> methods threadsafe (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/402">PR #402</a>).</p></li>
<li><p><strong>BREAKING</strong>: Drop the <code class="docutils literal notranslate"><span class="pre">write_buffer_size</span></code> kwarg to <code class="docutils literal notranslate"><span class="pre">Encoder</span></code> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/402">PR #402</a>).</p></li>
</ul>
</section>
<section id="version-0-14-2-2023-04-19">
<h2>Version 0.14.2 (2023-04-19)<a class="headerlink" href="#version-0-14-2-2023-04-19" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Remove <code class="docutils literal notranslate"><span class="pre">__del__</span></code> trashcan usage for structs with <code class="docutils literal notranslate"><span class="pre">gc=False</span></code> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/369">PR #369</a>).</p></li>
<li><p>Support overriding <code class="docutils literal notranslate"><span class="pre">__setattr__</span></code> in Struct types (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/376">PR #376</a>).</p></li>
<li><p>Support encoding large integers in JSON (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/378">PR #378</a>).</p></li>
<li><p>Fix a memory leak when msgpack decoding variable length tuples with more than
16 elements (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/380">PR #380</a>).</p></li>
<li><p>Remove JSON compatibility checks when constructing a
<code class="docutils literal notranslate"><span class="pre">msgspec.json.Decoder</span></code>. Trying to decode messages into types that JSON
doesn’t support will now error at decode time, rather than when the decoder
is constructed (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/381">PR #381</a>).</p></li>
</ul>
</section>
<section id="version-0-14-1-2023-04-07">
<h2>Version 0.14.1 (2023-04-07)<a class="headerlink" href="#version-0-14-1-2023-04-07" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Further optimize decoding of JSON arrays into lists (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/363">PR #363</a>).</p></li>
<li><p>Fix a bug preventing using structs configured with <code class="docutils literal notranslate"><span class="pre">dict=True</span></code> on Python
3.11 (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/365">PR #365</a>).</p></li>
<li><p>Avoid preallocating large lists/tuples in the msgpack decoder (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/367">PR #367</a>).</p></li>
</ul>
</section>
<section id="version-0-14-0-2023-04-02">
<h2>Version 0.14.0 (2023-04-02)<a class="headerlink" href="#version-0-14-0-2023-04-02" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Support encoding and decoding <a class="reference external" href="https://attrs.org">attrs</a> types (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/323">PR #323</a>).</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">repr_omit_defaults</span></code> configuration option for omitting struct default
values in the <code class="docutils literal notranslate"><span class="pre">repr</span></code> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/322">PR #322</a>).</p></li>
<li><p>Expose a struct’s configuration through a <code class="docutils literal notranslate"><span class="pre">__struct_config__</span></code> attribute
(<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/328">PR #328</a>).</p></li>
<li><p>Add <a class="reference internal" href="api.html#msgspec.structs.fields" title="msgspec.structs.fields"><code class="xref py py-obj docutils literal notranslate"><span class="pre">msgspec.structs.fields</span></code></a> utility function for inspecting the fields
configured on a Struct (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/330">PR #330</a>).</p></li>
<li><p>Add a <code class="docutils literal notranslate"><span class="pre">dict</span></code> configuration option for adding a <code class="docutils literal notranslate"><span class="pre">__dict__</span></code> attribute to a
Struct (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/331">PR #331</a>).</p></li>
<li><p>Allow non-struct mixins to be used with struct types (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/332">PR #332</a>).</p></li>
<li><p>Fix a bug when defining both <code class="docutils literal notranslate"><span class="pre">lt</span></code> and <code class="docutils literal notranslate"><span class="pre">gt</span></code> constraints on an integer
type (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/335">PR #335</a>).</p></li>
<li><p>Fix a bug supporting fields defined with <a class="reference internal" href="api.html#msgspec.field" title="msgspec.field"><code class="xref py py-obj docutils literal notranslate"><span class="pre">msgspec.field()</span></code></a> with no arguments
(<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/343">PR #343</a>).</p></li>
<li><p>Allow arbitrary input types to <code class="xref py py-obj docutils literal notranslate"><span class="pre">msgspec.from_builtins</span></code> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/346">PR #346</a>).</p></li>
<li><p>Support decoding into subclasses of <code class="docutils literal notranslate"><span class="pre">int</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">bytes</span></code> in
<code class="xref py py-obj docutils literal notranslate"><span class="pre">msgspec.from_builtins</span></code> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/346">PR #346</a>).</p></li>
<li><p>Add <a class="reference internal" href="api.html#msgspec.UNSET" title="msgspec.UNSET"><code class="xref py py-obj docutils literal notranslate"><span class="pre">msgspec.UNSET</span></code></a> and <a class="reference internal" href="api.html#msgspec.UnsetType" title="msgspec.UnsetType"><code class="xref py py-obj docutils literal notranslate"><span class="pre">msgspec.UnsetType</span></code></a> for tracking unset fields. See the
<a class="reference internal" href="supported-types.html#unset-type"><span class="std std-ref">docs</span></a> for more information (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/350">PR #350</a>).</p></li>
<li><p><strong>BREAKING</strong>: In the unlikely event you were using the previous
<code class="docutils literal notranslate"><span class="pre">msgspec.UNSET</span></code> singleton to explicitly indicate no default value on struct
types, you should now make use of <a class="reference internal" href="api.html#msgspec.NODEFAULT" title="msgspec.NODEFAULT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">msgspec.NODEFAULT</span></code></a> instead (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/350">PR #350</a>).</p></li>
<li><p>Improve struct type annotations now that <code class="docutils literal notranslate"><span class="pre">mypy</span></code> supports
<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.dataclass_transform" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">typing.dataclass_transform</span></code></a> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/352">PR #352</a>).</p></li>
<li><p>Support <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Final" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">typing.Final</span></code></a> annotations for indicating that an object field should
be treated as immutable (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/354">PR #354</a>).</p></li>
<li><p>Add a <code class="docutils literal notranslate"><span class="pre">name</span></code> keyword option to <a class="reference internal" href="api.html#msgspec.field" title="msgspec.field"><code class="xref py py-obj docutils literal notranslate"><span class="pre">msgspec.field</span></code></a> for renaming a single field
(<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/356">PR #356</a>).</p></li>
<li><p><strong>BREAKING</strong>: The rules around class inheritance and a struct’s <code class="docutils literal notranslate"><span class="pre">rename</span></code>
option have changed. See <a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/356">PR #356</a> for more information.</p></li>
</ul>
</section>
<section id="version-0-13-1-2023-02-09">
<h2>Version 0.13.1 (2023-02-09)<a class="headerlink" href="#version-0-13-1-2023-02-09" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Fix a memory leak in the JSON decoder introduced in 0.13.0, caused by a
reference counting bug when decoding into <code class="docutils literal notranslate"><span class="pre">Struct</span></code> types (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/312">PR #312</a>).</p></li>
</ul>
</section>
<section id="version-0-13-0-2023-02-08">
<h2>Version 0.13.0 (2023-02-08)<a class="headerlink" href="#version-0-13-0-2023-02-08" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Add <a class="reference internal" href="api.html#msgspec.to_builtins" title="msgspec.to_builtins"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_builtins</span></code></a> function for converting messages composed of any supported
type to ones composed of only simple builtin types commonly supported by
Python serialization libraries (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/258">PR #258</a>).</p></li>
<li><p>Add <code class="xref py py-obj docutils literal notranslate"><span class="pre">from_builtins</span></code> function for converting and validating messages composed
of simple builtin types to ones composed of any type msgspec supports
(<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/266">PR #266</a>, <a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/302">PR #302</a>).</p></li>
<li><p>Add <code class="xref py py-obj docutils literal notranslate"><span class="pre">msgspec.yaml</span></code> module for encoding/decoding YAML (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/267">PR #267</a>).</p></li>
<li><p>Add <code class="xref py py-obj docutils literal notranslate"><span class="pre">msgspec.toml</span></code> module for encoding/decoding TOML (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/268">PR #268</a>).</p></li>
<li><p>Add <a class="reference internal" href="api.html#msgspec.structs.replace" title="msgspec.structs.replace"><code class="xref py py-obj docutils literal notranslate"><span class="pre">msgspec.structs.replace</span></code></a> function for creating a copy of an existing
<a class="reference internal" href="api.html#msgspec.Struct" title="msgspec.Struct"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Struct</span></code></a> with some changes applied (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/262">PR #262</a>).</p></li>
<li><p>Add <a class="reference internal" href="api.html#msgspec.structs.asdict" title="msgspec.structs.asdict"><code class="xref py py-obj docutils literal notranslate"><span class="pre">msgspec.structs.asdict</span></code></a> and <a class="reference internal" href="api.html#msgspec.structs.astuple" title="msgspec.structs.astuple"><code class="xref py py-obj docutils literal notranslate"><span class="pre">msgspec.structs.astuple</span></code></a> functions for
converting a struct instance to a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a> respectively (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/300">PR #300</a>).</p></li>
<li><p>Support arbitrarily nested <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.NewType" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">typing.NewType</span></code></a>/<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Annotated" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">typing.Annotated</span></code></a> types
(<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/272">PR #272</a>).</p></li>
<li><p>Improve error message for invalid keyword arguments passed to
<code class="docutils literal notranslate"><span class="pre">Struct.__init__</span></code> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/273">PR #273</a>).</p></li>
<li><p>Support <code class="docutils literal notranslate"><span class="pre">default_factory</span></code> configuration for <a class="reference internal" href="api.html#msgspec.Struct" title="msgspec.Struct"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Struct</span></code></a> fields (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/274">PR #274</a>).</p></li>
<li><p><strong>BREAKING</strong>: With the exception of empty builtin collections (<code class="docutils literal notranslate"><span class="pre">[]</span></code>,
<code class="docutils literal notranslate"><span class="pre">{}</span></code>, <code class="docutils literal notranslate"><span class="pre">set()</span></code>, <code class="docutils literal notranslate"><span class="pre">bytearray()</span></code>), mutable default values in Struct types
are no longer deepcopied when used. If a different mutable default value is
needed, please configure a <code class="docutils literal notranslate"><span class="pre">default_factory</span></code> instead (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/274">PR #274</a>).</p></li>
<li><p>Improve performance of creating Structs with default parameters (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/274">PR #274</a>).</p></li>
<li><p>Support <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.ClassVar" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">typing.ClassVar</span></code></a> annotations of <a class="reference internal" href="api.html#msgspec.Struct" title="msgspec.Struct"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Struct</span></code></a> types (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/281">PR #281</a>).</p></li>
<li><p>Support encoding/decoding <a class="reference external" href="https://docs.python.org/3/library/decimal.html#decimal.Decimal" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">decimal.Decimal</span></code></a> types (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/288">PR #288</a>).</p></li>
<li><p>Support “abstract” type annotations like
<a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.MutableMapping" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">collections.abc.MutableMapping</span></code></a>/<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.MutableMapping" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">typing.MutableMapping</span></code></a> in decoders
(<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/290">PR #290</a>).</p></li>
<li><p>Support any string-like or int-like type as a <code class="docutils literal notranslate"><span class="pre">dict</span></code> key when encoding or
decoding JSON (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/292">PR #292</a>).</p></li>
<li><p>Improved performance encoding large collections in JSON and MessagePack
encoders (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/294">PR #294</a>, <a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/298">PR #298</a>).</p></li>
</ul>
</section>
<section id="version-0-12-0-2023-01-05">
<h2>Version 0.12.0 (2023-01-05)<a class="headerlink" href="#version-0-12-0-2023-01-05" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Support encoding <code class="docutils literal notranslate"><span class="pre">set</span></code> and <code class="docutils literal notranslate"><span class="pre">frozenset</span></code> subclasses (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/249">PR #249</a>).</p></li>
<li><p>Support encoding/decoding <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.NewType" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">typing.NewType</span></code></a> types (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/251">PR #251</a>).</p></li>
<li><p>Allow creating a <a class="reference internal" href="api.html#msgspec.Raw" title="msgspec.Raw"><code class="xref py py-obj docutils literal notranslate"><span class="pre">msgspec.Raw</span></code></a> object from a <code class="docutils literal notranslate"><span class="pre">str</span></code> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/252">PR #252</a>).</p></li>
<li><p>Add new experimental <code class="docutils literal notranslate"><span class="pre">msgspec.inspect</span></code> module for inspecting type
annotations. This is intended to be used for building downstream tooling
based on msgspec-compatible types. See <a class="reference internal" href="inspect.html"><span class="doc">the docs</span></a> for more
information (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/253">PR #253</a>).</p></li>
<li><p>Add new <code class="docutils literal notranslate"><span class="pre">extra</span></code> field to <a class="reference internal" href="api.html#msgspec.Meta" title="msgspec.Meta"><code class="xref py py-obj docutils literal notranslate"><span class="pre">msgspec.Meta</span></code></a>, for storing arbitrary user-defined
metadata (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/255">PR #255</a>).</p></li>
<li><p>Improved performance for JSON encoding strings (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/256">PR #256</a>).</p></li>
</ul>
</section>
<section id="version-0-11-0-2022-12-19">
<h2>Version 0.11.0 (2022-12-19)<a class="headerlink" href="#version-0-11-0-2022-12-19" title="Link to this heading">¶</a></h2>
<ul>
<li><p>Improve performance of constructors for <a class="reference internal" href="api.html#msgspec.Struct" title="msgspec.Struct"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Struct</span></code></a> types when using keyword
arguments (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/237">PR #237</a>).</p></li>
<li><p>Support <a class="reference internal" href="constraints.html"><span class="doc">Constraints</span></a> on dict keys for JSON (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/239">PR #239</a>).</p></li>
<li><p>Add support for keyword-only arguments in <a class="reference internal" href="api.html#msgspec.Struct" title="msgspec.Struct"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Struct</span></code></a> types, matching the
behavior of <code class="docutils literal notranslate"><span class="pre">kw_only</span></code> for <a class="reference external" href="https://docs.python.org/3/library/dataclasses.html#module-dataclasses" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dataclasses</span></code></a> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/242">PR #242</a>).</p></li>
<li><p><strong>BREAKING</strong>: Change the parameter ordering rules used by <a class="reference internal" href="api.html#msgspec.Struct" title="msgspec.Struct"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Struct</span></code></a> types to
match the behavior of <a class="reference external" href="https://docs.python.org/3/library/dataclasses.html#module-dataclasses" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dataclasses</span></code></a>. For most users this change shouldn’t
break anything. However, if your struct definitions have required fields
after optional fields, you’ll now get an error on import. This error can be
fixed by either:</p>
<ul class="simple">
<li><p>Reordering your fields so all required fields are before all optional
fields</p></li>
<li><p>Using keyword-only parameters (by passing the <code class="docutils literal notranslate"><span class="pre">kw_only=True</span></code> option).</p></li>
</ul>
<p>See <a class="reference internal" href="structs.html#struct-field-ordering"><span class="std std-ref">Field Ordering</span></a> for more information (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/242">PR #242</a>).</p>
</li>
<li><p>Support encoding/decoding dictionaries with integer keys for JSON (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/243">PR #243</a>).</p></li>
</ul>
</section>
<section id="version-0-10-1-2022-12-08">
<h2>Version 0.10.1 (2022-12-08)<a class="headerlink" href="#version-0-10-1-2022-12-08" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Ignore attributes with leading underscores (<code class="docutils literal notranslate"><span class="pre">&quot;_&quot;</span></code>) when encoding
<a class="reference external" href="https://docs.python.org/3/library/dataclasses.html#module-dataclasses" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dataclasses</span></code></a> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/234">PR #234</a>)</p></li>
</ul>
</section>
<section id="version-0-10-0-2022-12-07">
<h2>Version 0.10.0 (2022-12-07)<a class="headerlink" href="#version-0-10-0-2022-12-07" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Add <code class="docutils literal notranslate"><span class="pre">forbid_unknown_fields</span></code> configuration option to <a class="reference internal" href="api.html#msgspec.Struct" title="msgspec.Struct"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Struct</span></code></a> types (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/210">PR #210</a>)</p></li>
<li><p><strong>BREAKING</strong>: Encode all <a class="reference external" href="https://docs.python.org/3/library/enum.html#module-enum" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enum</span></code></a> types by value, rather than name (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/211">PR #211</a>)</p></li>
<li><p>Fix a bug in the JSON encoder when base64 encoding binary objects (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/217">PR #217</a>)</p></li>
<li><p>Add support for encoding/decoding <a class="reference external" href="https://docs.python.org/3/library/dataclasses.html#module-dataclasses" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dataclasses</span></code></a> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/218">PR #218</a>)</p></li>
<li><p>Add support for encoding/decoding <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime.date</span></code></a> objects (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/221">PR #221</a>)</p></li>
<li><p>Add support for encoding/decoding <a class="reference external" href="https://docs.python.org/3/library/uuid.html#uuid.UUID" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">uuid.UUID</span></code></a> objects (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/222">PR #222</a>)</p></li>
<li><p><strong>BREAKING</strong>: support encoding/decoding <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a> values without
timezones by default (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/224">PR #224</a>).</p></li>
<li><p>Add a <code class="docutils literal notranslate"><span class="pre">tz</span></code> <a class="reference internal" href="constraints.html"><span class="doc">constraint</span></a> to require aware or naive
datetime/time objects when decoding (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/224">PR #224</a>).</p></li>
<li><p>Add support for encoding/decoding <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.time" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime.time</span></code></a> objects (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/225">PR #225</a>)</p></li>
<li><p>Add a <a class="reference internal" href="api.html#msgspec.json.format" title="msgspec.json.format"><code class="xref py py-obj docutils literal notranslate"><span class="pre">msgspec.json.format</span></code></a> utility for efficiently pretty-printing already
encoded JSON documents (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/226">PR #226</a>).</p></li>
<li><p>Support decoding JSON from strings instead of just bytes-like objects
(<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/229">PR #229</a>)</p></li>
</ul>
</section>
<section id="version-0-9-1-2022-10-27">
<h2>Version 0.9.1 (2022-10-27)<a class="headerlink" href="#version-0-9-1-2022-10-27" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Enable Python 3.11 builds (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/205">PR #205</a>)</p></li>
<li><p>Support greater than microsecond resolution when parsing JSON timestamps (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/201">PR #201</a>)</p></li>
<li><p>Work around a limitation in mypy for typed decoders (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/191">PR #191</a>)</p></li>
</ul>
</section>
<section id="version-0-9-0-2022-09-13">
<h2>Version 0.9.0 (2022-09-13)<a class="headerlink" href="#version-0-9-0-2022-09-13" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Support for <a class="reference internal" href="constraints.html"><span class="doc">constraints</span></a> during validation. For example,
this allows ensuring a field is an integer &gt;= 0. (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/176">PR #176</a>)</p></li>
<li><p>New utilities for generating <a class="reference internal" href="jsonschema.html"><span class="doc">JSON Schemas</span></a> from type
definitions (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/181">PR #181</a>)</p></li>
<li><p>Support for pretty printing using <a class="reference external" href="https://rich.readthedocs.io/en/stable/pretty.html">rich</a> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/183">PR #183</a>)</p></li>
<li><p>Improve integer encoding performance (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/170">PR #170</a>)</p></li>
<li><p>Builtin support for renaming fields using kebab-case (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/175">PR #175</a>)</p></li>
<li><p>Support for passing a mapping when renaming fields (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/185">PR #185</a>)</p></li>
</ul>
</section>
<section id="version-0-8-0-2022-08-01">
<h2>Version 0.8.0 (2022-08-01)<a class="headerlink" href="#version-0-8-0-2022-08-01" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Support integer tag values when using <a class="reference internal" href="structs.html#struct-tagged-unions"><span class="std std-ref">tagged unions</span></a> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/135">PR #135</a>).</p></li>
<li><p>Support decoding into <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.TypedDict" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">typing.TypedDict</span></code></a> types (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/142">PR #142</a>).</p></li>
<li><p>Support encoding/decoding <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.NamedTuple" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">typing.NamedTuple</span></code></a> types (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/161">PR #161</a>).</p></li>
<li><p>Test against CPython 3.11 prelease builds (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/146">PR #146</a>).</p></li>
<li><p>Add <a class="reference internal" href="api.html#msgspec.ValidationError" title="msgspec.ValidationError"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ValidationError</span></code></a> (a subclass of <a class="reference internal" href="api.html#msgspec.DecodeError" title="msgspec.DecodeError"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DecodeError</span></code></a>) to allow differentiating
between errors due to a message not matching the schema from those due to the
message being invalid JSON (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/155">PR #155</a>).</p></li>
<li><p>Support encoding subclasses of <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>/<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/160">PR #160</a>).</p></li>
<li><p>Fix a bug preventing decoding custom types wrapped in a <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">typing.Optional</span></code></a>
(<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/162">PR #162</a>).</p></li>
</ul>
</section>
<section id="version-0-7-1-2022-06-27">
<h2>Version 0.7.1 (2022-06-27)<a class="headerlink" href="#version-0-7-1-2022-06-27" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Further reduce the size of packaged wheels (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/130">PR #130</a>).</p></li>
<li><p>Add <a class="reference external" href="https://docs.python.org/3/library/weakref.html#module-weakref" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">weakref</span></code></a> support for <a class="reference internal" href="api.html#msgspec.Struct" title="msgspec.Struct"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Struct</span></code></a> types through a new <code class="docutils literal notranslate"><span class="pre">weakref</span></code>
configuration option (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/131">PR #131</a>).</p></li>
<li><p>Fix a couple unlikely (but possible) bugs in the deallocation routine for
Struct types (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/131">PR #131</a>).</p></li>
</ul>
</section>
<section id="version-0-7-0-2022-06-20">
<h2>Version 0.7.0 (2022-06-20)<a class="headerlink" href="#version-0-7-0-2022-06-20" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Dramatically speedup JSON string decoding, up to 2x speedup in some cases
(<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/118">PR #118</a>).</p></li>
<li><p>Adds a cache for decoding short (&lt; 32 character) ASCII dict keys. This
results in up to a 40% speedup when decoding many dicts with common keys
using an untyped decoder. It’s still recommended to define <a class="reference internal" href="api.html#msgspec.Struct" title="msgspec.Struct"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Struct</span></code></a> types
when your messages have a common structure, but in cases where no type is
provided decoding is now much more performant (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/120">PR #120</a>, <a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/121">PR #121</a>).</p></li>
<li><p>Adds <code class="docutils literal notranslate"><span class="pre">order</span></code> and <code class="docutils literal notranslate"><span class="pre">eq</span></code> configuration options for <a class="reference internal" href="api.html#msgspec.Struct" title="msgspec.Struct"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Struct</span></code></a> types, mirroring
the <code class="docutils literal notranslate"><span class="pre">dataclasses</span></code> options of the same name. Order comparisons for Struct
types are very performant, roughly <a class="reference external" href="https://jcristharif.com/msgspec/benchmarks.html#benchmark-structs">10x to 70x faster</a> than
alternative libraries (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/122">PR #122</a>).</p></li>
<li><p>Speedup <a class="reference internal" href="api.html#msgspec.Struct" title="msgspec.Struct"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Struct</span></code></a> decoding for both JSON and MessagePack, on average 20%
faster (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/119">PR #119</a>).</p></li>
<li><p>Various additional performance improvements, mostly to the JSON
implementation (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/100">PR #100</a>, <a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/101">PR #101</a>, <a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/102">PR #102</a>).</p></li>
<li><p>Add <a class="reference internal" href="api.html#msgspec.defstruct" title="msgspec.defstruct"><code class="xref py py-obj docutils literal notranslate"><span class="pre">defstruct</span></code></a> method for dynamically defining new <a class="reference internal" href="api.html#msgspec.Struct" title="msgspec.Struct"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Struct</span></code></a> types at
runtime (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/105">PR #105</a>).</p></li>
<li><p>Fix ARM support and publish ARM wheels for Linux and Mac (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/104">PR #104</a>).</p></li>
<li><p>Reduce published wheel sizes by stripping debug symbols (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/113">PR #113</a>).</p></li>
<li><p>Fix a memory leak in <code class="docutils literal notranslate"><span class="pre">Struct.__reduce__</span></code> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/117">PR #117</a>).</p></li>
<li><p><strong>BREAKING</strong>: Rename <code class="docutils literal notranslate"><span class="pre">nogc</span></code> struct option to <code class="docutils literal notranslate"><span class="pre">gc</span></code>. To disable GC on a
Struct instance you now want to specify <code class="docutils literal notranslate"><span class="pre">gc=False</span></code> instead of <code class="docutils literal notranslate"><span class="pre">nogc=True</span></code>
(<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/124">PR #124</a>).</p></li>
</ul>
</section>
<section id="version-0-6-0-2022-04-06">
<h2>Version 0.6.0 (2022-04-06)<a class="headerlink" href="#version-0-6-0-2022-04-06" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Add a new <a class="reference external" href="https://jcristharif.com/msgspec/usage.html#raw">msgspec.Raw</a>
type for delayed decoding of message fields / serializing already encoded
fields (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/92">PR #92</a>).</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">omit_defaults</span></code> option to <code class="docutils literal notranslate"><span class="pre">Struct</span></code> types (<a class="reference external" href="https://jcristharif.com/msgspec/structs.html#omitting-default-values">docs</a>).
If enabled, fields containing their respective default value will be omitted
from serialized message. This improves both encode and decode performance
(<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/94">PR #94</a>).</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">rename</span></code> option to <code class="docutils literal notranslate"><span class="pre">Struct</span></code> types (<a class="reference external" href="https://jcristharif.com/msgspec/structs.html#renaming-field-names">docs</a>) for
altering the field names used for encoding. A major use of this is supporting
<code class="docutils literal notranslate"><span class="pre">camelCase</span></code> JSON field names, while letting Python code use the more
standard <code class="docutils literal notranslate"><span class="pre">snake_case</span></code> field names (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/98">PR #98</a>).</p></li>
<li><p>Improve performance of <code class="docutils literal notranslate"><span class="pre">nogc=True</span></code> structs (<a class="reference external" href="https://jcristharif.com/msgspec/structs.html#disabling-garbage-collection-advanced">docs</a>).
GC is now avoided in more cases, and <code class="docutils literal notranslate"><span class="pre">nogc=True</span></code> structs use 16 fewer bytes
per instance. Also added a <a class="reference external" href="https://jcristharif.com/msgspec/benchmarks.html#benchmark-garbage-collection">benchmark</a>
for how <code class="docutils literal notranslate"><span class="pre">msgspec</span></code> can interact with application GC usage (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/93">PR #93</a>).</p></li>
<li><p>Cache creation of <a class="reference external" href="https://jcristharif.com/msgspec/structs.html#tagged-unions">tagged union</a> lookup
tables, reducing memory usage for applications making heavy use of tagged
unions (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/91">PR #91</a>).</p></li>
<li><p>Support encoding and decoding <code class="docutils literal notranslate"><span class="pre">frozenset</span></code> instances (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/95">PR #95</a>).</p></li>
<li><p>A smattering of other performance improvements.</p></li>
</ul>
</section>
<section id="version-0-5-0-2022-03-09">
<h2>Version 0.5.0 (2022-03-09)<a class="headerlink" href="#version-0-5-0-2022-03-09" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Support <a class="reference external" href="https://jcristharif.com/msgspec/structs.html#tagged-unions">tagged unions</a> for
encoding/decoding a <code class="docutils literal notranslate"><span class="pre">Union</span></code> of <code class="docutils literal notranslate"><span class="pre">msgspec.Struct</span></code> types (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/83">PR #83</a>).</p></li>
<li><p>Further improve encoding performance of <code class="docutils literal notranslate"><span class="pre">enum.Enum</span></code> instances by 20-30%
(<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/84">PR #84</a>).</p></li>
<li><p>Reduce overhead of calling <code class="docutils literal notranslate"><span class="pre">msgspec.json.decode</span></code>/<code class="docutils literal notranslate"><span class="pre">msgspec.msgpack.decode</span></code>
with <code class="docutils literal notranslate"><span class="pre">type=SomeStructType</span></code>. It’s still faster to create a <code class="docutils literal notranslate"><span class="pre">Decoder</span></code> once
and call <code class="docutils literal notranslate"><span class="pre">decoder.decode</span></code> multiple times, but for struct types the overhead
of calling the top-level function is decreased significantly (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/77">PR #77</a>,
<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/88">PR #88</a>).</p></li>
<li><p><strong>BREAKING</strong>: Rename the Struct option <code class="docutils literal notranslate"><span class="pre">asarray</span></code> to <code class="docutils literal notranslate"><span class="pre">array_like</span></code> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/85">PR #85</a>).</p></li>
</ul>
</section>
<section id="version-0-4-2-2022-02-28">
<h2>Version 0.4.2 (2022-02-28)<a class="headerlink" href="#version-0-4-2-2022-02-28" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Support <code class="docutils literal notranslate"><span class="pre">typing.Literal</span></code> string types as dict keys in JSON (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/78">PR #78</a>).</p></li>
<li><p>Support Python 3.10 style unions (for example, <code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">|</span> <span class="pre">float</span> <span class="pre">|</span> <span class="pre">None</span></code>)
(<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/75">PR #75</a>).</p></li>
<li><p>Publish Python 3.10 wheels (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/80">PR #80</a>).</p></li>
</ul>
</section>
<section id="version-0-4-1-2022-02-23">
<h2>Version 0.4.1 (2022-02-23)<a class="headerlink" href="#version-0-4-1-2022-02-23" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Optimize decoding of <code class="docutils literal notranslate"><span class="pre">Enum</span></code> types, on average ~10x faster (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/69">PR #69</a>).</p></li>
<li><p>Optimize decoding of <code class="docutils literal notranslate"><span class="pre">IntEnum</span></code> types, on average ~12x faster (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/68">PR #68</a>).</p></li>
<li><p>Support decoding <code class="docutils literal notranslate"><span class="pre">typing.Literal</span></code> types (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/71">PR #71</a>).</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">nogc</span></code> option for <code class="docutils literal notranslate"><span class="pre">Struct</span></code> types, disabling the cyclic garbage
collector for their instances (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/72">PR #72</a>).</p></li>
</ul>
</section>
<section id="version-0-4-0-2022-02-08">
<h2>Version 0.4.0 (2022-02-08)<a class="headerlink" href="#version-0-4-0-2022-02-08" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Moved MessagePack support to the <code class="docutils literal notranslate"><span class="pre">msgspec.msgpack</span></code> submodule (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/56">PR #56</a>).</p></li>
<li><p>New JSON support available in <code class="docutils literal notranslate"><span class="pre">msgspec.json</span></code> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/56">PR #56</a>).</p></li>
<li><p>Improved error message generation to provide full path to the mistyped values
(<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/56">PR #56</a>).</p></li>
<li><p>Renamed the <code class="docutils literal notranslate"><span class="pre">immutable</span></code> kwarg in <code class="docutils literal notranslate"><span class="pre">msgspec.Struct</span></code> to <code class="docutils literal notranslate"><span class="pre">frozen</span></code> to better
match python conventions (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/60">PR #60</a>).</p></li>
<li><p>Renamed <code class="docutils literal notranslate"><span class="pre">EncodingError</span></code> to <code class="docutils literal notranslate"><span class="pre">EncodeError</span></code>/<code class="docutils literal notranslate"><span class="pre">DecodingError</span></code> to
<code class="docutils literal notranslate"><span class="pre">DecodeError</span></code> to better match python conventions (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/61">PR #61</a>).</p></li>
<li><p>Improved <code class="docutils literal notranslate"><span class="pre">pyright</span></code> support, allowing more errors to be statically caught by
their type checker (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/60">PR #60</a>).</p></li>
<li><p>Adds support for Python 3.10 pattern matching on <code class="docutils literal notranslate"><span class="pre">msgspec.Struct</span></code> types
(<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/53">PR #53</a>).</p></li>
<li><p>Adds support for decoding into <code class="docutils literal notranslate"><span class="pre">typing.Union</span></code> types (with a few
restrictions) (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/54">PR #54</a>).</p></li>
<li><p>General performance improvements across all encoders/decoders.</p></li>
</ul>
</section>
<section id="version-0-3-2-2021-07-23">
<h2>Version 0.3.2 (2021-07-23)<a class="headerlink" href="#version-0-3-2-2021-07-23" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Faster float encoding and decoding (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/47">PR #47</a>).</p></li>
<li><p>General micro-optimizations for MessagePack encode/decode. This is most
visible for large messages (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/48">PR #48</a>, <a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/50">PR #50</a>).</p></li>
</ul>
</section>
<section id="version-0-3-1-2021-07-12">
<h2>Version 0.3.1 (2021-07-12)<a class="headerlink" href="#version-0-3-1-2021-07-12" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Use a freelist for small structs to improve struct allocation time
(<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/44">PR #44</a>).</p></li>
<li><p>Small performance improvements for struct serialization (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/45">PR #45</a>).</p></li>
</ul>
</section>
<section id="version-0-3-0-2021-07-07">
<h2>Version 0.3.0 (2021-07-07)<a class="headerlink" href="#version-0-3-0-2021-07-07" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Add <code class="docutils literal notranslate"><span class="pre">Encoder.encode_into</span></code> api, for encoding into an existing buffer without
copying (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/34">PR #34</a>).</p></li>
<li><p>Add support for encoding/decoding MessagePack extensions (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/31">PR #31</a>).</p></li>
<li><p>Add support for encoding/decoding <code class="docutils literal notranslate"><span class="pre">datetime</span></code> objects (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/36">PR #36</a>).</p></li>
<li><p>Add support for encoding/decoding custom objects without relying on
MessagePack extensions (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/32">PR #32</a>, <a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/33">PR #33</a>).</p></li>
<li><p>Add support for marking <code class="docutils literal notranslate"><span class="pre">Struct</span></code> types as hashable (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/39">PR #39</a>).</p></li>
<li><p>Add support for serializing <code class="docutils literal notranslate"><span class="pre">Struct</span></code> types as MessagePack <code class="docutils literal notranslate"><span class="pre">array</span></code> objects
rather than <code class="docutils literal notranslate"><span class="pre">map</span></code> objects (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/39">PR #39</a>).</p></li>
<li><p>Several performance improvements. On average 50% faster encoding and 30%
faster decoding.</p></li>
</ul>
</section>
<section id="version-0-2-0-2021-02-25">
<h2>Version 0.2.0 (2021-02-25)<a class="headerlink" href="#version-0-2-0-2021-02-25" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Add <code class="docutils literal notranslate"><span class="pre">default</span></code> callback to <code class="docutils literal notranslate"><span class="pre">encode</span></code>/<code class="docutils literal notranslate"><span class="pre">Encoder</span></code> (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/21">PR #21</a>).</p></li>
<li><p>Fix bug in <code class="docutils literal notranslate"><span class="pre">Encoder</span></code> dealloc (<a class="extlink-pr reference external" href="https://github.com/jcrist/msgspec/pull/21">PR #21</a>).</p></li>
</ul>
</section>
<section id="version-0-1-0-2021-02-23">
<h2>Version 0.1.0 (2021-02-23)<a class="headerlink" href="#version-0-1-0-2021-02-23" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Initial Release</p></li>
</ul>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          <a class="prev-page" href="examples/edgedb.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Usage with EdgeDB</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; Jim Crist-Harif
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/jcrist/msgspec" aria-label="GitHub"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
</svg></a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Changelog</a><ul>
<li><a class="reference internal" href="#version-0-19-0-2024-12-27">Version 0.19.0 (2024-12-27)</a></li>
<li><a class="reference internal" href="#version-0-18-6-2024-01-21">Version 0.18.6 (2024-01-21)</a></li>
<li><a class="reference internal" href="#version-0-18-5-2023-12-12">Version 0.18.5 (2023-12-12)</a></li>
<li><a class="reference internal" href="#version-0-18-4-2023-10-04">Version 0.18.4 (2023-10-04)</a></li>
<li><a class="reference internal" href="#version-0-18-3-2023-10-03">Version 0.18.3 (2023-10-03)</a></li>
<li><a class="reference internal" href="#version-0-18-2-2023-08-26">Version 0.18.2 (2023-08-26)</a></li>
<li><a class="reference internal" href="#version-0-18-1-2023-08-16">Version 0.18.1 (2023-08-16)</a></li>
<li><a class="reference internal" href="#version-0-18-0-2023-08-10">Version 0.18.0 (2023-08-10)</a></li>
<li><a class="reference internal" href="#version-0-17-0-2023-07-11">Version 0.17.0 (2023-07-11)</a></li>
<li><a class="reference internal" href="#version-0-16-0-2023-06-12">Version 0.16.0 (2023-06-12)</a></li>
<li><a class="reference internal" href="#version-0-15-1-2023-05-19">Version 0.15.1 (2023-05-19)</a></li>
<li><a class="reference internal" href="#version-0-15-0-2023-05-10">Version 0.15.0 (2023-05-10)</a></li>
<li><a class="reference internal" href="#version-0-14-2-2023-04-19">Version 0.14.2 (2023-04-19)</a></li>
<li><a class="reference internal" href="#version-0-14-1-2023-04-07">Version 0.14.1 (2023-04-07)</a></li>
<li><a class="reference internal" href="#version-0-14-0-2023-04-02">Version 0.14.0 (2023-04-02)</a></li>
<li><a class="reference internal" href="#version-0-13-1-2023-02-09">Version 0.13.1 (2023-02-09)</a></li>
<li><a class="reference internal" href="#version-0-13-0-2023-02-08">Version 0.13.0 (2023-02-08)</a></li>
<li><a class="reference internal" href="#version-0-12-0-2023-01-05">Version 0.12.0 (2023-01-05)</a></li>
<li><a class="reference internal" href="#version-0-11-0-2022-12-19">Version 0.11.0 (2022-12-19)</a></li>
<li><a class="reference internal" href="#version-0-10-1-2022-12-08">Version 0.10.1 (2022-12-08)</a></li>
<li><a class="reference internal" href="#version-0-10-0-2022-12-07">Version 0.10.0 (2022-12-07)</a></li>
<li><a class="reference internal" href="#version-0-9-1-2022-10-27">Version 0.9.1 (2022-10-27)</a></li>
<li><a class="reference internal" href="#version-0-9-0-2022-09-13">Version 0.9.0 (2022-09-13)</a></li>
<li><a class="reference internal" href="#version-0-8-0-2022-08-01">Version 0.8.0 (2022-08-01)</a></li>
<li><a class="reference internal" href="#version-0-7-1-2022-06-27">Version 0.7.1 (2022-06-27)</a></li>
<li><a class="reference internal" href="#version-0-7-0-2022-06-20">Version 0.7.0 (2022-06-20)</a></li>
<li><a class="reference internal" href="#version-0-6-0-2022-04-06">Version 0.6.0 (2022-04-06)</a></li>
<li><a class="reference internal" href="#version-0-5-0-2022-03-09">Version 0.5.0 (2022-03-09)</a></li>
<li><a class="reference internal" href="#version-0-4-2-2022-02-28">Version 0.4.2 (2022-02-28)</a></li>
<li><a class="reference internal" href="#version-0-4-1-2022-02-23">Version 0.4.1 (2022-02-23)</a></li>
<li><a class="reference internal" href="#version-0-4-0-2022-02-08">Version 0.4.0 (2022-02-08)</a></li>
<li><a class="reference internal" href="#version-0-3-2-2021-07-23">Version 0.3.2 (2021-07-23)</a></li>
<li><a class="reference internal" href="#version-0-3-1-2021-07-12">Version 0.3.1 (2021-07-12)</a></li>
<li><a class="reference internal" href="#version-0-3-0-2021-07-07">Version 0.3.0 (2021-07-07)</a></li>
<li><a class="reference internal" href="#version-0-2-0-2021-02-25">Version 0.2.0 (2021-02-25)</a></li>
<li><a class="reference internal" href="#version-0-1-0-2021-02-23">Version 0.1.0 (2021-02-23)</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=de5a9c30"></script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    </body>
</html>